<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>ç¦å²¡æ—…è¡Œ</title>

  <!-- PWA / iPhone ã‚¢ã‚¤ã‚³ãƒ³ -->
  <link rel="manifest" href="/manifest.json" />
  <link rel="apple-touch-icon" href="/icons/icon-180.png" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="ç¦å²¡æ—…è¡Œ" />
  <!-- èƒŒæ™¯ã‚’æ·¡ã„ã‚°ãƒ¬ãƒ¼ã«çµ±ä¸€ -->
  <meta name="theme-color" content="#f3f4f6" />

  <!-- TailwindCSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- React -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <!-- Babel -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>

<body class="bg-gray-100 text-gray-900">
  <div id="root"></div>

  <script type="text/babel">
    const { useMemo } = React;

    // Apple Maps æ¤œç´¢URLã‚’ä½œã‚‹
    const amap = (q) => `http://maps.apple.com/?q=${encodeURIComponent(q)}`;

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ç”¨ãƒ‡ãƒ¼ã‚¿ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // 2æ—¥ç›®/3æ—¥ç›®ã®ãƒ©ãƒ³ãƒå€™è£œï¼ˆæŒ‡å®šURLï¼‰
    const lunchCandidates = [
      { name: "ç«¹ä¹ƒå±‹ ç¦å²¡ç©ºæ¸¯åº—", g: "https://maps.app.goo.gl/xyWxxNXdffqtJ5hL9?g_st=com.google.maps.preview.copy", a: amap("ç«¹ä¹ƒå±‹ ç¦å²¡ç©ºæ¸¯åº—") },
      { name: "ãƒ©ãƒ¼ãƒ¡ãƒ³æ»‘èµ°è·¯",     g: "https://maps.app.goo.gl/tH6kmkYrT4bhsi7XA?g_st=com.google.maps.preview.copy", a: amap("ãƒ©ãƒ¼ãƒ¡ãƒ³æ»‘èµ°è·¯") },
      { name: "å› å¹¡ã†ã©ã‚“ï¼ˆç©ºæ¸¯ï¼‰", g: "https://maps.app.goo.gl/ot9SM3Ebtx2wjRZQ6?g_st=com.google.maps.preview.copy", a: amap("å› å¹¡ã†ã©ã‚“ ç¦å²¡ç©ºæ¸¯") },
      { name: "ã†ã¾ã‚„ ç¦å²¡ç©ºæ¸¯åº—", g: "https://maps.app.goo.gl/S8e6MUHfUPX1Q6ro6?g_st=com.google.maps.preview.copy", a: amap("ã†ã¾ã‚„ ç¦å²¡ç©ºæ¸¯åº—") },
      { name: "B.B.Quisine",       g: "https://maps.app.goo.gl/AL318ib9omzbFqJB6?g_st=com.google.maps.preview.copy", a: amap("B.B.Quisine ç¦å²¡ç©ºæ¸¯") },
    ];

    // 1æ—¥ç›®ã®ãƒ›ãƒ†ãƒ«/ãƒ‡ã‚£ãƒŠãƒ¼/ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£
    const HOTEL = {
      title: "ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³",
      detail: "HOTEL ç²‹ - sui - HARUYOSHIï¼ˆæ—§ Grand Base Fukuokaï¼‰",
      g: "https://maps.app.goo.gl/nkXvNUJemUVH2egAA?g_st=com.google.maps.preview.copy",
      a: amap("HOTEL ç²‹ HARUYOSHI"),
      icon: "ğŸ¨",
    };
    const DINNER_D1 = {
      title: "å¤œã”é£¯",
      detail: "æµ·é®®å±…é…’å±‹ ã¾ã‚‹å®¶ è¥¿ä¸­æ´²",
      g: "https://maps.app.goo.gl/VivBRoqG9HBYDhjX7?g_st=com.google.maps.preview.copy",
      a: amap("æµ·é®®å±…é…’å±‹ ã¾ã‚‹å®¶ è¥¿ä¸­æ´²"),
      icon: "ğŸ»",
    };
    const BIKE = {
      title: "è‡ªè»¢è»Šè¦³å…‰",
      detail: "ç¦å²¡å¸‚å†… ç‹é“ã‚¹ãƒãƒƒãƒˆã‚ãã‚Š",
      g: "https://www.google.com/maps/search/?api=1&query=Fukuoka+city+attractions",
      a: amap("ç¦å²¡ è¦³å…‰ ã‚¹ãƒãƒƒãƒˆ"),
      icon: "ğŸš²",
    };

    // 2æ—¥ç›®
    const EXBAR = {
      title: "ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£",
      detail: "EXBAR TOKYO plus åšå¤šï¼ˆã‚­ãƒ£ãƒŠãƒ«ã‚·ãƒ†ã‚£åšå¤š 5Fï¼‰",
      g: "https://maps.app.goo.gl/6YZryEY3JAzLhgos6?g_st=com.google.maps.preview.copy",
      a: amap("EXBAR TOKYO plus åšå¤š"),
      icon: "ğŸ¯",
    };
    const DINNER_D2 = {
      title: "å¤œã”é£¯",
      detail: "ã‚‚ã¤é‹ï¼ˆåº—å€™è£œBï¼‰",
      g: "https://maps.app.goo.gl/MdSpRp4jzZZQzjkQ9?g_st=com.google.maps.preview.copy",
      a: amap("ã‚‚ã¤é‹ ç¦å²¡ åº—"),
      icon: "ğŸ²",
    };

    // 3æ—¥ç›®
    const AIRPORT_SHOP = {
      title: "ç©ºæ¸¯ã§ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ï¼ˆãŠåœŸç”£ï¼‰",
      detail: "ç¦å²¡ç©ºæ¸¯ å›½å†…ç·šã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆç·åˆåœŸç”£ã‚¨ãƒªã‚¢ï¼‰",
      g: "https://www.google.com/maps/search/?api=1&query=Fukuoka+Airport+souvenir",
      a: amap("ç¦å²¡ç©ºæ¸¯ ãŠåœŸç”£"),
      icon: "ğŸ›ï¸",
    };

    // ä¾¿æƒ…å ±ï¼ˆ1ã¤ã®ã‚«ãƒ¼ãƒ‰ã«ã¾ã¨ã‚ã‚‹ï¼‰
    const FLIGHTS = {
      icon: "âœˆï¸",
      title: "ãƒ•ãƒ©ã‚¤ãƒˆï¼ˆåå¤å±‹çµ„ & æ±äº¬çµ„ï¼‰",
      lines: [
        { group: "åå¤å±‹çµ„", out: "12:10 â†’ 13:35", back: "14:50 â†’ 16:40" },
        { group: "æ±äº¬çµ„",   out: "12:15 â†’ 14:10", back: "14:15 â†’ 16:05" },
      ],
    };

    // ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³å®šç¾©ï¼ˆ3æ—¥åˆ†ï¼‰
    const TIMELINE = [
      {
        day: "Day 1 (9/19 é‡‘)",
        events: [
          { time: "12:10", type: "flights", data: FLIGHTS },
          { time: "15:00", type: "lunchCandidates", title: "ãŠæ˜¼ï¼ˆç©ºæ¸¯å†…å€™è£œï¼‰", icon: "ğŸ´", list: lunchCandidates },
          { time: "16:00", type: "place", data: HOTEL },
          { time: "16:30", type: "place", data: BIKE },
          { time: "20:30", type: "place", data: DINNER_D1 },
          { time: "22:00", type: "free",  title: "è‡ªç”±æ™‚é–“", icon: "ğŸ•’" },
        ],
      },
      {
        day: "Day 2 (9/20 åœŸ)",
        events: [
          { time: "12:00", type: "lunchCandidates", title: "ãŠæ˜¼ï¼ˆå€™è£œï¼‰", icon: "ğŸ´", list: lunchCandidates },
          { time: "14:00", type: "place", data: EXBAR },
          { time: "18:00", type: "place", data: DINNER_D2 },
          { time: "20:00", type: "free",  title: "2ä»¶ç›®", icon: "ğŸ¸" },
          { time: "22:00", type: "free",  title: "è‡ªç”±æ™‚é–“", icon: "ğŸ•’" },
        ],
      },
      {
        day: "Day 3 (9/21 æ—¥)",
        events: [
          { time: "12:00", type: "lunchCandidates", title: "ãŠæ˜¼ï¼ˆå€™è£œï¼‰", icon: "ğŸ´", list: lunchCandidates },
          { time: "13:00", type: "place", data: AIRPORT_SHOP },
          // ä¾¿ã®ãƒªãƒã‚¤ãƒ³ãƒ‰ï¼ˆå¸°ã‚Šï¼‰
          { time: "14:15", type: "note", title: "æ±äº¬çµ„ï¼šå¸°ã‚Š 14:15 â†’ 16:05", icon: "ğŸ›¬" },
          { time: "14:50", type: "note", title: "åå¤å±‹çµ„ï¼šå¸°ã‚Š 14:50 â†’ 16:40", icon: "ğŸ›¬" },
        ],
      },
    ];

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const Card = ({ children }) => (
      <div className="bg-white p-4 rounded-2xl shadow">{children}</div>
    );

    const MapLinks = ({ g, a }) => (
      <div className="flex gap-6 mt-2">
        <a className="underline text-blue-700" href={g} target="_blank" rel="noreferrer">Google Maps</a>
        <a className="underline text-blue-700" href={a} target="_blank" rel="noreferrer">Apple Maps</a>
      </div>
    );

    const LunchChips = ({ list }) => (
      <div className="mt-3 grid grid-cols-1 gap-2">
        {list.map((s, i) => (
          <div key={i} className="flex flex-wrap items-center gap-3">
            <span className="px-3 py-1 rounded-2xl bg-gray-100">{s.name}</span>
            <div className="flex gap-3 text-sm">
              <a className="underline text-blue-700" href={s.g} target="_blank" rel="noreferrer">Google</a>
              <a className="underline text-blue-700" href={s.a} target="_blank" rel="noreferrer">Apple</a>
            </div>
          </div>
        ))}
      </div>
    );

    const FlightBlock = ({ data }) => (
      <Card>
        <h3 className="font-semibold text-lg mb-2">{data.icon} {data.title}</h3>
        <div className="grid grid-cols-1 gap-2">
          {data.lines.map((l, i) => (
            <div key={i} className="p-3 rounded-xl bg-gray-50">
              <div className="font-semibold">{l.group}</div>
              <div className="text-sm text-gray-700">è¡Œãï¼š{l.out}</div>
              <div className="text-sm text-gray-700">å¸°ã‚Šï¼š{l.back}</div>
            </div>
          ))}
        </div>
      </Card>
    );

    const PlaceBlock = ({ data }) => (
      <Card>
        <h3 className="font-semibold text-lg">{data.icon} {data.title}</h3>
        {data.detail && <p className="text-sm text-gray-600 mt-1">{data.detail}</p>}
        {data.g && data.a && <MapLinks g={data.g} a={data.a} />}
      </Card>
    );

    const FreeBlock = ({ icon, title }) => (
      <Card>
        <h3 className="font-semibold text-lg">{icon} {title}</h3>
      </Card>
    );

    const LunchBlock = ({ title, list, icon }) => (
      <Card>
        <h3 className="font-semibold text-lg">{icon} {title}</h3>
        <p className="text-sm text-gray-600 mt-1">å€™è£œï¼ˆã‚¿ãƒƒãƒ—ã§ãƒãƒƒãƒ—ã‚’é–‹ãï¼‰</p>
        <LunchChips list={list} />
      </Card>
    );

    const Timeline = () => (
      <div className="max-w-xl mx-auto p-6">
        <h1 className="text-3xl font-bold text-center">ç¦å²¡æ—…è¡Œ</h1>
        <p className="text-center text-gray-600 mt-1 mb-8">æœŸé–“ï¼š2025.09.19 - 2025.09.21</p>

        {TIMELINE.map((d, di) => (
          <section key={di} className="mb-12">
            <h2 className="text-xl font-bold mb-4">{d.day}</h2>
            <div className="relative pl-6">
              <div className="absolute left-2 top-0 bottom-0 w-0.5 bg-gray-300"></div>
              {d.events.map((e, ei) => (
                <div key={ei} className="relative mb-6">
                  <div className="absolute -left-1 top-2 w-3 h-3 bg-blue-500 rounded-full"></div>
                  <div className="flex gap-4 items-start">
                    <div className="w-16 text-right pr-2 pt-1 font-bold">{e.time}</div>
                    <div className="flex-1">
                      {e.type === "flights" && <FlightBlock data={e.data} />}
                      {e.type === "place"   && <PlaceBlock data={e.data} />}
                      {e.type === "free"    && <FreeBlock icon={e.icon} title={e.title} />}
                      {e.type === "lunchCandidates" && <LunchBlock title={e.title} list={e.list} icon={e.icon} />}
                      {e.type === "note"    && (
                        <Card><div className="text-sm">{e.icon} {e.title}</div></Card>
                      )}
                    </div>
                  </div>
                </div>
              ))}
            </div>
          </section>
        ))}

        <footer className="text-xs text-gray-500 text-center mt-10">
          iPhoneã§ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ ã™ã‚‹æ‰‹é †ï¼šSafariã§ã“ã®ãƒšãƒ¼ã‚¸ã‚’é–‹ã â†’ å…±æœ‰ï¼ˆâ–¡â†‘ï¼‰ â†’ <b>ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¿½åŠ </b>
        </footer>
      </div>
    );

    ReactDOM.createRoot(document.getElementById("root")).render(<Timeline />);

    // PWA: service worker ç™»éŒ²ï¼ˆã‚ªãƒ•ãƒ©ã‚¤ãƒ³å¯¾å¿œï¼‰
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("/sw.js").catch(()=>{});
      });
    }
  </script>
</body>
</html>
