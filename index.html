<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>福岡旅行</title>

  <!-- PWA / iPhone アイコン -->
  <link rel="manifest" href="/manifest.json" />
  <link rel="apple-touch-icon" href="/icons/icon-180.png" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="福岡旅行" />
  <meta name="theme-color" content="#b91c1c" />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- React -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <!-- Babel -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-gray-100">
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    // Day2/Day3 昼の候補（店名＋検索クエリ）
    const day2_3LunchCandidates = [
      { name: "元祖 博多めんたい重",           gname: "元祖 博多めんたい重" },
      { name: "博多シーフード うお田",         gname: "博多シーフード うお田" },
      { name: "魚ト肴 いとおかし",             gname: "魚ト肴 いとおかし 春吉" },
      { name: "ひしむら",                       gname: "ひしむら 春吉" },
      { name: "大地のうどん 博多駅ちかてん",   gname: "大地のうどん 博多駅ちかてん 朝日ビル B2" },
    ];

    // タイムラインデータ
    const timeline = [
      {
        day: "Day 1 (9/19 金)",
        events: [
          { time: "12:10", title: "名古屋発 (飛行機)", detail: "12:10 → 13:35" },
          { time: "12:15", title: "東京発 (飛行機)", detail: "12:15 → 14:10" },
          { time: "15:00", title: "お昼", detail: "空港内で候補のお店（10人以上可）" },
          { time: "16:00", title: "チェックイン", detail: "ホテル", gmap: "https://maps.app.goo.gl/nkXvNUJemUVH2egAA", amap: "https://maps.apple.com/?q=ホテル 福岡" },
          { time: "16:30", title: "自転車観光", detail: "大濠公園、福岡城跡、博多ポートタワー" },
          { time: "20:30", title: "夜ご飯", detail: "もつ鍋 一慶", gmap: "https://maps.app.goo.gl/VivBRoqG9HBYDhjX7", amap: "https://maps.apple.com/?q=もつ鍋 一慶" },
          { time: "22:00", title: "自由時間" }
        ]
      },
      {
        day: "Day 2 (9/20 土)",
        events: [
          { time: "12:00", title: "お昼（候補）", detail: "候補から選択", candidates: day2_3LunchCandidates },
          { time: "14:00", title: "アクティビティ", detail: "EXBAR TOKYO plus 博多", gmap: "https://maps.app.goo.gl/6YZryEY3JAzLhgos6", amap: "https://maps.apple.com/?q=EXBAR TOKYO plus 博多" },
          { time: "18:00", title: "夜ご飯", detail: "海鮮居酒屋 まる家 西中洲", gmap: "https://maps.app.goo.gl/MdSpRp4jzZZQzjkQ9", amap: "https://maps.apple.com/?q=海鮮居酒屋 まる家 西中洲" },
          { time: "20:00", title: "2件目", detail: "未定" },
          { time: "22:00", title: "自由時間" }
        ]
      },
      {
        day: "Day 3 (9/21 日)",
        events: [
          { time: "12:00", title: "お昼（候補）", detail: "候補から選択", candidates: day2_3LunchCandidates },
          { time: "13:00", title: "空港ショッピング", detail: "空港内おみやげショップ" },
          { time: "14:15", title: "東京組 帰り (飛行機)", detail: "14:15 → 16:05" },
          { time: "14:50", title: "名古屋組 帰り (飛行機)", detail: "14:50 → 16:40" }
        ]
      }
    ];

    // イベントカードコンポーネント
    function EventCard({ time, title, detail, gmap, amap, candidates }) {
      return (
        <div className="mb-6 ml-6">
          <div className="flex items-center mb-1">
            <div className="w-16 text-right text-sm text-gray-500">{time}</div>
            <div className="ml-4 p-3 bg-white rounded-2xl shadow w-full">
              <div className="font-semibold text-gray-800">{title}</div>
              {detail && <div className="text-sm text-gray-600">{detail}</div>}
              {gmap && (
                <div className="mt-2 text-sm">
                  <a href={gmap} target="_blank" rel="noreferrer" className="text-blue-600 underline mr-2">Google Maps</a>
                  <a href={amap} target="_blank" rel="noreferrer" className="text-green-600 underline">Apple Maps</a>
                </div>
              )}
              {candidates && (
                <div className="mt-3">
                  <div className="text-xs text-gray-500 mb-1">候補</div>
                  <div className="flex flex-wrap gap-2">
                    {candidates.map((s, i) => {
                      const g = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(s.gname)}`;
                      const a = `https://maps.apple.com/?q=${encodeURIComponent(s.gname)}`;
                      return (
                        <span key={i} className="inline-flex gap-1">
                          <a
                            href={g}
                            target="_blank"
                            rel="noreferrer"
                            className="px-3 py-1 rounded-full bg-blue-100 text-blue-700 text-xs hover:bg-blue-200"
                          >
                            {s.name}（Google）
                          </a>
                          <a
                            href={a}
                            target="_blank"
                            rel="noreferrer"
                            className="px-3 py-1 rounded-full bg-green-100 text-green-700 text-xs hover:bg-green-200"
                          >
                            {s.name}（Apple）
                          </a>
                        </span>
                      );
                    })}
                  </div>
                </div>
              )}
            </div>
          </div>
        </div>
      );
    }

    // タイムラインコンポーネント
    function Timeline() {
      return (
        <div className="p-4">
          <h1 className="text-2xl font-bold mb-4 text-center">福岡旅行</h1>
          <p className="text-center text-sm mb-6">期間：2025.09.19 - 2025.09.21</p>
          <div className="border-l-2 border-gray-300 ml-8">
            {timeline.map((day, i) => (
              <div key={i} className="mb-8">
                <h2 className="text-lg font-semibold mb-4">{day.day}</h2>
                {day.events.map((event, j) => (
                  <EventCard key={j} {...event} />
                ))}
              </div>
            ))}
          </div>
          <div className="mt-10 text-xs text-gray-400 text-center">
            📌 iPhoneでホーム画面に追加する手順：<br />
            Safariでこのページを開く → 共有ボタン → 「ホーム画面に追加」 → アイコンから起動
          </div>
        </div>
      );
    }

    ReactDOM.render(<Timeline />, document.getElementById("root"));
  </script>
</body>
</html>
